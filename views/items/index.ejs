<h1>All Items</h1>

<form action="/items" method="get">
  <label for="searchTerm">Search:</label>
  <input type="text" id="searchTerm" name="searchTerm" value="<%= searchTerm %>" placeholder="Search by name or description">
  <button type="submit">Search</button>
</form>

<table border="1">
  <thead>
    <tr>
      <th>Item ID</th>
      <th>Item Name</th>
      <th>Item Description</th>
      <th>Quantity</th>
      <th>Price</th>
      <th>Actions</th>
      <th>Stock status</th>
    </tr>
  </thead>
  <tbody>
    <% for (const item of items) { %>
    <tr>
      <td><%= item._id %></td>
      <td><%= item.name %></td>
      <td><%= item.description %></td>
      <td><%= item.quantity %></td>
      <td><%= item.price %></td>
      <td>
        <form action="/items/update/<%= item._id %>">
          <button type="submit">Edit</button>
        </form>
        <form action="/items/delete/<%= item._id %>" method="post">
          <button type="submit" onclick="return confirm('Are you sure you want to delete this item?');">Delete</button>
        </form>
      </td>
      <td>
        <span><%= item.getStockStatus() %></span>
      </td>
    </tr>
    <% } %>
  </tbody>
</table>

<h2>Add New Item</h2>

<form action="/items/add" method="post">
  <label for="name">Name:</label>
  <input type="text" id="name" name="name" required>

  <label for="description">Description:</label>
  <input type="text" id="description" name="description">

  <label for="quantity">Quantity:</label>
  <input type="number" id="quantity" name="quantity" required>

  <label for="price">Price:</label>
  <input type="number" id="price" name="price" required step="0.01">

  <button type="submit">Add Item</button>
</form>
